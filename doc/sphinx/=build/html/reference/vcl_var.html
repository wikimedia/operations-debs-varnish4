

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>bereq &mdash; Varnish version 3.0.5 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Varnish version 3.0.5 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Varnish version 3.0.5 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="bereq">
<h1>bereq<a class="headerlink" href="#bereq" title="Permalink to this headline">¶</a></h1>
<p>bereq.backend</p>
<blockquote>
<div><p>Type: BACKEND</p>
<p>Readable from: vcl_pipe, backend</p>
<p>Writeable frome: vcl_pipe, backend</p>
</div></blockquote>
<p>bereq.between_bytes_timeout</p>
<blockquote>
<div><p>Type: DURATION</p>
<p>Readable from: vcl_pipe, backend</p>
<p>Writeable frome: vcl_pipe, backend</p>
<p>The time in seconds to wait between each received byte from the
backend.  Not available in pipe mode.</p>
</div></blockquote>
<p>bereq.connect_timeout</p>
<blockquote>
<div><p>Type: DURATION</p>
<p>Readable from: vcl_pipe, backend</p>
<p>Writeable frome: vcl_pipe, backend</p>
<p>The time in seconds to wait for a backend connection.</p>
</div></blockquote>
<p>bereq.first_byte_timeout</p>
<blockquote>
<div><p>Type: DURATION</p>
<p>Readable from: vcl_pipe, backend</p>
<p>Writeable frome: vcl_pipe, backend</p>
<p>The time in seconds to wait for the first byte from
the backend.  Not available in pipe mode.</p>
</div></blockquote>
<p>bereq.http.</p>
<blockquote>
<div><p>Type: HEADER</p>
<p>Readable from: vcl_pipe, backend</p>
<p>Writeable frome: vcl_pipe, backend</p>
<p>The corresponding HTTP header.</p>
</div></blockquote>
<p>bereq.method</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: vcl_pipe, backend</p>
<p>Writeable frome: vcl_pipe, backend</p>
<p>The request type (e.g. &quot;GET&quot;, &quot;HEAD&quot;).</p>
</div></blockquote>
<p>bereq.proto</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: vcl_pipe, backend</p>
<p>Writeable frome: vcl_pipe, backend</p>
<p>The HTTP protocol version used to talk to the server.</p>
</div></blockquote>
<p>bereq.retries</p>
<blockquote>
<div><p>Type: INT</p>
<p>Readable from: backend</p>
</div></blockquote>
<p>bereq.uncacheable</p>
<blockquote>
<div><p>Type: BOOL</p>
<p>Readable from: backend</p>
<p>Writeable frome: backend</p>
</div></blockquote>
<p>bereq.url</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: vcl_pipe, backend</p>
<p>Writeable frome: vcl_pipe, backend</p>
<p>The requested URL.</p>
</div></blockquote>
</div>
<div class="section" id="beresp">
<h1>beresp<a class="headerlink" href="#beresp" title="Permalink to this headline">¶</a></h1>
<p>beresp.backend.ip</p>
<blockquote>
<div><p>Type: IP</p>
<p>Readable from: vcl_backend_response</p>
<p>IP of the backend this response was fetched from.</p>
</div></blockquote>
<p>beresp.backend.name</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: vcl_backend_response</p>
<p>Name of the backend this response was fetched from.</p>
</div></blockquote>
<p>beresp.do_esi</p>
<blockquote>
<div><p>Type: BOOL</p>
<p>Readable from: vcl_backend_response</p>
<p>Writeable frome: vcl_backend_response</p>
<p>Boolean. ESI-process the object after fetching it.
Defaults to false. Set it to true to parse the
object for ESI directives. Will only be honored if
req.esi is true.</p>
</div></blockquote>
<p>beresp.do_gunzip</p>
<blockquote>
<div><p>Type: BOOL</p>
<p>Readable from: vcl_backend_response</p>
<p>Writeable frome: vcl_backend_response</p>
<p>Boolean. Unzip the object before storing it in the
cache.  Defaults to false.</p>
</div></blockquote>
<p>beresp.do_gzip</p>
<blockquote>
<div><p>Type: BOOL</p>
<p>Readable from: vcl_backend_response</p>
<p>Writeable frome: vcl_backend_response</p>
<p>Boolean. Gzip the object before storing it. Defaults
to false. When http_gzip_support is on Varnish will
request already compressed content from the backend
and as such compression in Varnish is not needed.</p>
</div></blockquote>
<p>beresp.do_stream</p>
<blockquote>
<div><p>Type: BOOL</p>
<p>Readable from: vcl_backend_response</p>
<p>Writeable frome: vcl_backend_response</p>
<p>Deliver the object to the client directly without
fetching the whole object into varnish. If this
request is pass'ed it will not be stored in memory.
As of Varnish Cache 3.0 the object will marked as busy
as it is delivered so only client can access the object.</p>
</div></blockquote>
<p>beresp.grace</p>
<blockquote>
<div><p>Type: DURATION</p>
<p>Readable from: vcl_backend_response</p>
<p>Writeable frome: vcl_backend_response</p>
<p>Set to a period to enable grace.</p>
</div></blockquote>
<p>beresp.http.</p>
<blockquote>
<div><p>Type: HEADER</p>
<p>Readable from: vcl_backend_response</p>
<p>Writeable frome: vcl_backend_response</p>
<p>The corresponding HTTP header.</p>
</div></blockquote>
<p>beresp.keep</p>
<blockquote>
<div><p>Type: DURATION</p>
<p>Readable from: vcl_backend_response</p>
<p>Writeable frome: vcl_backend_response</p>
</div></blockquote>
<p>beresp.proto</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: vcl_backend_response</p>
<p>Writeable frome: vcl_backend_response</p>
<p>The HTTP protocol version used the backend replied with.</p>
</div></blockquote>
<p>beresp.reason</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: vcl_backend_response</p>
<p>Writeable frome: vcl_backend_response</p>
<p>The HTTP status message returned by the server.</p>
</div></blockquote>
<p>beresp.status</p>
<blockquote>
<div><p>Type: INT</p>
<p>Readable from: vcl_backend_response</p>
<p>Writeable frome: vcl_backend_response</p>
<p>The HTTP status code returned by the server.</p>
</div></blockquote>
<p>beresp.storage</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: vcl_backend_response</p>
<p>Writeable frome: vcl_backend_response</p>
<p>Set to force Varnish to save this object to a
particular storage backend.</p>
</div></blockquote>
<p>beresp.ttl</p>
<blockquote>
<div><p>Type: DURATION</p>
<p>Readable from: vcl_backend_response</p>
<p>Writeable frome: vcl_backend_response</p>
<p>The object's remaining time to live, in seconds.
beresp.ttl is writable.</p>
</div></blockquote>
<p>beresp.uncacheable</p>
<blockquote>
<div><p>Type: BOOL</p>
<p>Readable from: vcl_backend_response</p>
<p>Writeable frome: vcl_backend_response</p>
</div></blockquote>
</div>
<div class="section" id="client">
<h1>client<a class="headerlink" href="#client" title="Permalink to this headline">¶</a></h1>
<p>client.identity</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: client, backend</p>
<p>Writeable frome: client, backend</p>
<p>Identification of the client, used to load balance
in the client director.</p>
</div></blockquote>
<p>client.ip</p>
<blockquote>
<div><p>Type: IP</p>
<p>Readable from: client, backend</p>
<p>The client's IP address.</p>
</div></blockquote>
</div>
<div class="section" id="now">
<h1>now<a class="headerlink" href="#now" title="Permalink to this headline">¶</a></h1>
<p>now</p>
<blockquote>
<div><p>Type: TIME</p>
<p>Readable from: vcl_all</p>
<p>The current time, in seconds since the epoch. When
used in string context it returns a formatted string.</p>
</div></blockquote>
</div>
<div class="section" id="obj">
<h1>obj<a class="headerlink" href="#obj" title="Permalink to this headline">¶</a></h1>
<p>obj.grace</p>
<blockquote>
<div><p>Type: DURATION</p>
<p>Readable from: vcl_hit, vcl_error</p>
<p>Writeable frome: vcl_hit, vcl_error</p>
<p>The object's grace period in seconds. obj.grace is writable.</p>
</div></blockquote>
<p>obj.hits</p>
<blockquote>
<div><p>Type: INT</p>
<p>Readable from: vcl_hit, vcl_deliver</p>
<p>Writeable frome: vcl_hit, vcl_deliver</p>
<p>The approximate number of times the object has been
delivered. A value of 0 indicates a cache miss.
This variable is also available in vcl_deliver.</p>
</div></blockquote>
<p>obj.http.</p>
<blockquote>
<div><p>Type: HEADER</p>
<p>Readable from: vcl_hit, vcl_error</p>
<p>Writeable frome: vcl_error</p>
<p>The corresponding HTTP header.</p>
</div></blockquote>
<p>obj.keep</p>
<blockquote>
<div><p>Type: DURATION</p>
<p>Readable from: vcl_hit, vcl_error</p>
<p>Writeable frome: vcl_hit, vcl_error</p>
</div></blockquote>
<p>obj.last_use</p>
<blockquote>
<div><p>Type: TIME</p>
<p>Readable from: vcl_hit, vcl_deliver</p>
<p>Writeable frome: vcl_hit, vcl_deliver</p>
<p>The approximate time elapsed since the object was
last requests, in seconds. This variable is also
available in vcl_deliver.</p>
</div></blockquote>
<p>obj.proto</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: vcl_hit, vcl_error</p>
<p>Writeable frome: vcl_hit, vcl_error</p>
<p>The HTTP protocol version used when the object was retrieved.</p>
</div></blockquote>
<p>obj.reason</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: vcl_error</p>
<p>Writeable frome: vcl_error</p>
<p>The HTTP status message returned by the server.</p>
</div></blockquote>
<p>obj.status</p>
<blockquote>
<div><p>Type: INT</p>
<p>Readable from: vcl_error</p>
<p>Writeable frome: vcl_error</p>
<p>The HTTP status code returned by the server.</p>
</div></blockquote>
<p>obj.ttl</p>
<blockquote>
<div><p>Type: DURATION</p>
<p>Readable from: vcl_hit, vcl_error</p>
<p>Writeable frome: vcl_hit, vcl_error</p>
<p>The object's remaining time to live, in seconds.
obj.ttl is writable.</p>
</div></blockquote>
<p>obj.uncacheable</p>
<blockquote>
<div><p>Type: BOOL</p>
<p>Readable from: vcl_hit, vcl_deliver, vcl_error</p>
</div></blockquote>
</div>
<div class="section" id="req">
<h1>req<a class="headerlink" href="#req" title="Permalink to this headline">¶</a></h1>
<p>req.backend</p>
<blockquote>
<div><p>Type: BACKEND</p>
<p>Readable from: client</p>
<p>Writeable frome: client</p>
<p>The backend to use to service the request.</p>
</div></blockquote>
<p>req.can_gzip</p>
<blockquote>
<div><p>Type: BOOL</p>
<p>Readable from: client</p>
<p>Does the client accept the gzip transfer encoding.</p>
</div></blockquote>
<p>req.esi</p>
<blockquote>
<div><p>Type: BOOL</p>
<p>Readable from: vcl_recv, vcl_backend_response, vcl_deliver, vcl_error</p>
<p>Writeable frome: vcl_recv, vcl_backend_response, vcl_deliver, vcl_error</p>
<p>Boolean. Set to false to disable ESI processing
regardless of any value in beresp.do_esi. Defaults
to true. This variable is subject to change in
future versions, you should avoid using it.</p>
</div></blockquote>
<p>req.esi_level</p>
<blockquote>
<div><p>Type: INT</p>
<p>Readable from: client</p>
<p>A count of how many levels of ESI requests we're currently at.</p>
</div></blockquote>
<p>req.hash_always_miss</p>
<blockquote>
<div><p>Type: BOOL</p>
<p>Readable from: vcl_recv</p>
<p>Writeable frome: vcl_recv</p>
<p>Force a cache miss for this request. If set to true
Varnish will disregard any existing objects and
always (re)fetch from the backend.</p>
</div></blockquote>
<p>req.hash_ignore_busy</p>
<blockquote>
<div><p>Type: BOOL</p>
<p>Readable from: vcl_recv</p>
<p>Writeable frome: vcl_recv</p>
<p>Ignore any busy object during cache lookup. You
would want to do this if you have two server looking
up content from each other to avoid potential deadlocks.</p>
</div></blockquote>
<p>req.http.</p>
<blockquote>
<div><p>Type: HEADER</p>
<p>Readable from: client</p>
<p>Writeable frome: client</p>
<p>The corresponding HTTP header.</p>
</div></blockquote>
<p>req.method</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: client</p>
<p>Writeable frome: client</p>
<p>The request type (e.g. &quot;GET&quot;, &quot;HEAD&quot;).</p>
</div></blockquote>
<p>req.proto</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: client</p>
<p>Writeable frome: client</p>
<p>The HTTP protocol version used by the client.</p>
</div></blockquote>
<p>req.restarts</p>
<blockquote>
<div><p>Type: INT</p>
<p>Readable from: client</p>
<p>A count of how many times this request has been restarted.</p>
</div></blockquote>
<p>req.ttl</p>
<blockquote>
<div><p>Type: DURATION</p>
<p>Readable from: client</p>
<p>Writeable frome: client</p>
</div></blockquote>
<p>req.url</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: client</p>
<p>Writeable frome: client</p>
<p>The requested URL.</p>
</div></blockquote>
<p>req.xid</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: client</p>
<p>Unique ID of this request.</p>
</div></blockquote>
</div>
<div class="section" id="resp">
<h1>resp<a class="headerlink" href="#resp" title="Permalink to this headline">¶</a></h1>
<p>resp.http.</p>
<blockquote>
<div><p>Type: HEADER</p>
<p>Readable from: vcl_deliver</p>
<p>Writeable frome: vcl_deliver</p>
<p>The corresponding HTTP header.</p>
</div></blockquote>
<p>resp.proto</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: vcl_deliver</p>
<p>Writeable frome: vcl_deliver</p>
<p>The HTTP protocol version to use for the response.</p>
</div></blockquote>
<p>resp.reason</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: vcl_deliver</p>
<p>Writeable frome: vcl_deliver</p>
<p>The HTTP status message that will be returned.</p>
</div></blockquote>
<p>resp.status</p>
<blockquote>
<div><p>Type: INT</p>
<p>Readable from: vcl_deliver</p>
<p>Writeable frome: vcl_deliver</p>
<p>The HTTP status code that will be returned.</p>
</div></blockquote>
</div>
<div class="section" id="server">
<h1>server<a class="headerlink" href="#server" title="Permalink to this headline">¶</a></h1>
<p>server.hostname</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: client</p>
<p>The host name of the server.</p>
</div></blockquote>
<p>server.identity</p>
<blockquote>
<div><p>Type: STRING</p>
<p>Readable from: client</p>
<p>The identity of the server, as set by the -i
parameter.  If the -i parameter is not passed to varnishd,
server.identity will be set to the name of the instance, as
specified by the -n parameter.</p>
</div></blockquote>
<p>server.ip</p>
<blockquote>
<div><p>Type: IP</p>
<p>Readable from: client</p>
<p>The IP address of the socket on which the client
connection was received.</p>
</div></blockquote>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">bereq</a></li>
<li><a class="reference internal" href="#beresp">beresp</a></li>
<li><a class="reference internal" href="#client">client</a></li>
<li><a class="reference internal" href="#now">now</a></li>
<li><a class="reference internal" href="#obj">obj</a></li>
<li><a class="reference internal" href="#req">req</a></li>
<li><a class="reference internal" href="#resp">resp</a></li>
<li><a class="reference internal" href="#server">server</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/reference/vcl_var.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Varnish version 3.0.5 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Varnish Project.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>